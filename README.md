# Streamlit Shift Scheduler

最適化アルゴリズムを用いた多機能シフト自動割り当てアプリです。 このアプリは **Streamlit Community Cloud 上でブラウザから直接操作**できます。
）

## 🔧 主な機能

* 固定シフト／フリーシフトの切替可能
* 役割（例：キッチン、ホール）ごとの必要人数設定
* スタッフごとの対応可能役割を設定可能
* コアメンバー（主要メンバー）必須配置機能
* 以下の割り当て基準を自由に選択可能：

  * 勤務回数の偏りを抑える
  * 希望が削られた割合の偏りを抑える
  * 1日あたり最大勤務時間を制限（例：6時間）
  * 連続勤務が一定時間（例：4時間）を超えた場合に休憩時間（例：1時間）を必要とするルール
* 希望提出は Googleフォーム → Googleスプレッドシート → CSV ダウンロードでOK
* 割り当て結果・不足人員の確認＋CSVダウンロード可能

## 📁 ファイル構成（GitHubデプロイ用）

```
shift_scheduler/
├── shift.py          # Streamlitアプリ本体
├── requirements.txt # ライブラリ依存リスト
├── README.md       # この説明ファイル
```


## 🧾 希望CSV形式（Googleフォーム経由）

| 名前 | 曜日 | 開始時刻  | 終了時刻  |
| -- | -- | ----- | ----- |
| 田中 | 月  | 09:00 | 14:00 |
| 佐藤 | 火  | 17:00 | 22:00 |

* 列名は **「名前」「曜日」「開始時刻」「終了時刻」** を厳守してください
* 時刻は "HH\:MM" 形式（例：09:00）
* Googleフォーム → スプレッドシート → 「ファイル → ダウンロード → CSV」で取得

## 🧠 使用手順（使用者向け）

1. サイドバーで役割・シフトタイプ・必要人数・制約条件などを設定
2. 希望CSVをアップロード
3. 各スタッフの対応可能な役割を画面上で設定
4. 「⚙️ 自動割り当て実行」ボタンをクリック
5. 結果・未充足シフトの表示＆CSV出力

## 🛠 使用技術

* Python + Streamlit
* Google OR-Tools（CP-SAT ソルバー）による制約プログラミング

## 📝 ライセンス

MIT License

## 📮 お問い合わせ

改善要望・不具合は GitHub Issues または開発者までご連絡ください。
